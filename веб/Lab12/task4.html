<!DOCTYPE html>
<html>
<head>
	<title>lab12_3</title>
</head>
<script type="text/javascript">
	function getStatistik(){
			var students = [{name:"Староста",math:[5,4,3,2,1,2,3,4,5],eng:[3,4,2,4,5,4,2,2],deu:[5,5,5,4,4,4,4,4],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]

	}, 
	{name:"Беспалова",math:[3,4,3,2,1,2,3,4,3],eng:[3,4,2,4,1,4,2,2],deu:[4,4,4,4,4,4,4,4],fren:[4,3,2,1,4,3,3,2],litra:[3,4,3,3,3,4,3]},
	{name:"Филиппенко",math:[2,5,3,1,2,1,2,3,5,4,1],eng:[3,4,2,4,5,4,2,2],deu:[3,2,1,2,4,4,4,4],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Гунбин",math:[2,2,2,2,2,2,1],eng:[5,2,1,4,2,3,4,1,3],deu:[4,2,1,4,1,2,1,4,1],fren:[3,4,2,5,2,1,1,1,],litra:[1,4,2,3,2,1,5,2,1,2,3]},
	{name:"Сверкунов",math:[5,2,3,1,4,5,4,5,4],eng:[5,5,4,5,4,5,4,5],deu:[5,5,5,4,4,4,4,4],fren:[3,3,3,3,3,3,3,3,3,3,3],litra:[3,4,5,5,3,4,3]},
	{name:"Максименко",math:[1,1,1,1,1,1,2,1,1,2],eng:[3,3,3,5,3,5,3,5,3,2,3,2],deu:[2,5,2,5,2,5,4,5],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Бородай",math:[5,5,5,4,5,4,3,4,3,5,5],eng:[5,4,5,4,5,4,5,4],deu:[3,5,4,3,5,4,2,1,4,3],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Павловский",math:[5,3,5,3,4,5,2,3,5,4,2,3,5],eng:[2,3,2,5,2,3,2,5,4],deu:[5,5,5,4,4,4,4,4],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Малий",math:[5,4,5,4,5,3,4,4,4,4,4,4],eng:[4,4,4,4,4,4,4,4,4,4],deu:[5,5,5,5,5,5,5,5,1],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Автенюк",math:[5,4,3,2,1,2,3,4,5],eng:[3,4,2,4,5,4,2,2],deu:[5,5,5,4,4,4,4,4],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},
	{name:"Швец",math:[2,1,2,1,2,1,2,5],eng:[5,2,1,3,2,5,4,1,2,3,5,4],deu:[5,4,5,4,2,3,1,4,2,1,5,4,2],fren:[4,3,2,1,4,5,3,2],litra:[3,4,5,5,3,4,3]},];
		 
			function getMax(kurs){
				var max=0;
				for(let i=0; i<this[kurs].length;i++){
					var a=this[kurs][i];
					if(a>max){
						max=a;
					}
				}
			  console.log(max);
			  return max;				
			}
			function getMin(kurs){
				var min=99;
				for(let i=0; i<this[kurs].length;i++){
					var a=this[kurs][i];
					if(a<min){
						min=a;
					}
				}
			  console.log(min);
			   return min;							
			} 
			function getAvg(kurs){
				var sum=0;
				var count=0;
				for(let i=0; i<this[kurs].length;i++){
					var a=this[kurs][i];
					sum+=a;
					count++;
				}
			  console.log(sum/count);
				return sum/count;						
			}

			function* tableGenerator(kurs) {
			   for (let i = 0; i < 3; i++) {
			    let tr = document.createElement("tr");
			    for(let j = 0; j < students.length; j++){
			    	if(i==0){
			    		let td1 = document.createElement("td");
						td1.innerHTML=getMin.call(students[j],kurs);
						tr.appendChild(td1);	
			    	}else if(i==1){
			    		let td1 = document.createElement("td");
						td1.innerHTML=getMax.call(students[j],kurs);
						tr.appendChild(td1);
			    	}else{
			    		let td1 = document.createElement("td");
						td1.innerHTML=getAvg.call(students[j],kurs);
						tr.appendChild(td1);
			    	}
			    }
			    yield tr;
			   }
			}


			let math = document.getElementsByTagName("table")[0];
			let _thead = document.createElement("thead");
		    let _tr = document.createElement("tr");
			for (let i = 0; i < students.length; i++) {
				let _td1 = document.createElement("th");
				_td1.innerHTML = students[i].name;
		        _tr.appendChild(_td1);		    	
			}
			_thead.appendChild(_tr);
			math.appendChild(_thead);

			let mathGenetator=tableGenerator('math');
			for(let m of mathGenetator){
				math.appendChild(m);
			}

			let eng = document.getElementsByTagName("table")[1];
			let _thead_ = document.createElement("thead");
		    let _tr_ = document.createElement("tr");
			for (let i = 0; i < students.length; i++) {
				let _td1 = document.createElement("th");
				_td1.innerHTML = students[i].name;
		        _tr_.appendChild(_td1);		    	
			}
			_thead_.appendChild(_tr_);
			eng.appendChild(_thead_);

			let engGenetator=tableGenerator('eng');
			for(let e of engGenetator){
				eng.appendChild(e);
			}

			let deu = document.getElementsByTagName("table")[2];
			let thead_ = document.createElement("thead");
		    let t_r = document.createElement("tr");
			for (let i = 0; i < students.length; i++) {
				let _td1 = document.createElement("th");
				_td1.innerHTML = students[i].name;
		        t_r.appendChild(_td1);		    	
			}
			thead_.appendChild(t_r);
			deu.appendChild(thead_);

			let deuGenetator=tableGenerator('deu');
			for(let d of deuGenetator){
				deu.appendChild(d);
			}


	

		}


	</script>
	<style type="text/css">
		table {
			border: 2px inset aqua;
			width: 100%;
			margin-bottom: 20px;

		}
		td, th {
			border: 2px inset aqua;

		}
		

	</style>
<body onload="getStatistik()">

	<table id="math" title="MATHE">
	</table>
	<div></div>
	<table id="eng" title="ENGLISCH">		
	</table>
	<div></div>
	<table id="deu" title="DEUTSCH">		
	</table>
	
</body>
</html>



